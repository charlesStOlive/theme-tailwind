title = "Besoin"
url = "/solution/:id"
layout = "default"
==
use Waka\Wcms\Models\Solution;
function onStart()
{
$solution = Solution::find($this->param('id'));
$this['solution'] = $solution;
$needs = $solution->needs;
$needsArray = [];
foreach($needs as $need) {
$row = [
'id' => $need->id,
'name' => $need->name,
'intro' => $need->intro,
'url' => $need->getCloudiBaseUrl('main_image','jpg-400-350'),
'solutions' => $need->solutions

];
array_push($needsArray, $row);
}
$this['needs'] = $needsArray;
}
==
{##}
<!--Hero-->
<div class="pt-24">

    <div class="container px-3 mx-auto flex flex-wrap flex-col md:flex-row items-center">
        <!--Left Col-->
        <div class="flex flex-col w-full md:w-3/5 justify-center items-start text-center md:text-left">
            <h1 class="my-4 text-5xl font-bold leading-tight">
                {{solution.name}}
        </h1></div>

    </div>

</div>


<div class="relative -mt-12 lg:-mt-32">
    {% partial 'svgs/separator/wave' %}
    <!--Right Col-->
    <div class="relative container max-w-5xlg mx-auto">
        <div class="hidden lg:block z-10 absolute top-0" style="top:-10em; right:10em">
            <img class="object-cover" src="{{ solution.main_image.thumb(200,200) }}">
        </div>
    </div>
</div>



<section class="bg-white relative">

    <div class="container max-w-5xlg mx-auto">


        <h1 class="w-full text-5xl font-bold leading-tight text-center text-gray-800">
            Explication</h1>
        <div class="w-full mb-4">
            <div class="h-1 mx-auto gradient w-64 opacity-25 my-0 py-0 rounded-t"></div>
        </div>
        <div class="w-max-lg mb-4 mt-12 text-gray-800 markdown">
            {{ solution.description  | md  }}
        </div>
        <p class="text-gray-700 font-bold">Voici des solutions qui se basent sur cette solution</p>
        <div class="w-full flex flex-col flex-wrap lg:flex-row justify-center lg:justify-start">
            {% for need in needs %}
            <div class="md:w-1/2 lg:w-1/3 p-4 max-w-lg flex flex-col">
                <div class="flex-1 bg-white rounded-t rounded-b-none group overflow-hidden shadow hover:shadow-2xl hover:bg-primary transition-all transition-500 shadow text-gray-800">
                    <a href="/need/{{ need.id }}" class="flex flex-wrap">
                        <img class="h-20 w-full w-max-400 object-cover opacity-100 group-hover:opacity-75" src="{{ need.url }}">
                        <div class="w-full font-bold group-hover:text-white text-xl pt-4 px-6">{{ need.name }}</div>
                        <p class="text-gray-800 text-base group-hover:text-white px-6">{{ need.intro }}</p>
                    </a>
                    <div class="flex items-center justify-end px-6 mb-4">
                        <a href="#" class="hover:underline text-secondary"><b>En savoir +</b></a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>


</section>